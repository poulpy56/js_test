<!DOCTYPE html>
<html>
  <head>
    <title>Objects</title>
  </head>
  <body>
    <p>Rock Paper Scissors</p>
    <button onclick="
      console.log(playGame('Rock'))
    ">Rock</button>
    <button onclick="
      console.log(playGame('Paper'))
    ">Paper</button>
    <button onclick="
      console.log(playGame('Scissors'))
    ">Scissors</button>
    <button onclick="
      alert(`wins : ${score.wins} ; losses : ${score.losses} ; ties : ${score.ties}`)
    ">Score</button>
    <button style="display: block; margin-top: 20px; width: 100px;" onclick="score.wins = 0; score.losses = 0; score.ties = 0; localStorage.setItem('score', JSON.stringify(score))">Reset</button>
    <script>
      let score = JSON.parse(localStorage.getItem('score')) || {
          wins: 0,
          losses: 0,
          ties: 0
        }

      function pickComputerMove() {
        const randomNumber = Math.floor(Math.random()*3);
        if (randomNumber === 0) {return 'Rock'}
        if (randomNumber === 1) {return 'Paper'}
        else {return 'Scissors'}
      }

      function playGame(playerMove) {
        let result = '';
        const computerMove = pickComputerMove();
        if (playerMove === computerMove) {
          score.ties++
          result = 'Tie'
        }
        if (playerMove === 'Rock') {
          if (computerMove === 'Paper') {
            score.losses++
            result = 'You lose'
          }
          else {
            score.wins++
            result = 'You win'
          }
        }
        if (playerMove === 'Scissors') {
          if (computerMove === 'Paper') {
            score.wins++
            result = 'You win'
          }
          else {
            score.losses++
            result = 'You lose'
          }
        }
        if (computerMove === 'Rock') {
          score.wins++
          result = 'You win'
        }
        else {
          score.losses++
          result = 'You lose'
        }
        localStorage.setItem('score', JSON.stringify(score))
        return result
      }

      

    </script>
  </body>
</html>